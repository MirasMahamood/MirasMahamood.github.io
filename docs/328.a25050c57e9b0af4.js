"use strict";(self.webpackChunksmart_pm_tools=self.webpackChunksmart_pm_tools||[]).push([[328],{9328:(z,U,n)=>{n.r(U),n.d(U,{UoMModule:()=>O});var T=n(6895),l=n(433),d=n(6103),x=n(369),f=n(5593),y=n(5047),g=n(1740),c=n(165),h=n(2453),Z=n(3608),u=n(593),a=n(805),t=n(1571),p=n(9646);const C=JSON.parse('[{"id":"1","symbol":"mm","text":"milli","longText":"Milli Metre"},{"id":"2","symbol":"m","text":"metre","longText":"Metre"},{"id":"3","symbol":"g","text":"milligram","longText":"Milli Gram"}]');var A=n(529);let b=(()=>{class o{constructor(e){this.http=e,this.uomList=C}createUom(e){return e.id=""+1e3*Math.random(),this.uomList.unshift(e),(0,p.of)({data:e})}deleteUom(e){console.log(e);const i=this.uomList.findIndex(m=>m.id==e);return this.uomList.splice(i,1),(0,p.of)({data:this.uomList})}getAllUoms(){return(0,p.of)({data:this.uomList})}getUomById(e){let r={data:this.uomList.find(m=>m.id===e)};return(0,p.of)(r)}updateUom(e){const i=this.uomList.findIndex(m=>m.id===e.id);return this.uomList.splice(i,1),this.uomList.unshift(e),(0,p.of)({data:e})}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(A.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function S(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",8)(1,"span",9),t._UZ(2,"i",10),t.TgZ(3,"input",11,12),t.NdJ("input",function(){t.CHM(e);const r=t.MAs(4);t.oxw();const m=t.MAs(8);return t.KtG(m.filterGlobal(r.value,"contains"))}),t.qZA()()()}}function M(o,s){1&o&&(t.TgZ(0,"tr")(1,"th",13),t._uU(2,"Symbol "),t._UZ(3,"p-sortIcon",14),t.qZA(),t.TgZ(4,"th",15),t._uU(5,"Text "),t._UZ(6,"p-sortIcon",16),t.qZA(),t.TgZ(7,"th",17),t._uU(8,"Long Text "),t._UZ(9,"p-sortIcon",18),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Actions"),t.qZA()())}function L(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td")(8,"a",19),t._UZ(9,"i",20),t.qZA(),t.TgZ(10,"i",21),t.NdJ("click",function(r){const E=t.CHM(e).$implicit,P=t.oxw();return t.KtG(P.confirmDelete(r,E.id))}),t.qZA()()()}if(2&o){const e=s.$implicit;t.xp6(2),t.Oqu(e.symbol),t.xp6(2),t.Oqu(e.text),t.xp6(2),t.Oqu(e.longText),t.xp6(2),t.MGl("routerLink","/masters/uom/edit/",e.id,"")}}const I=function(){return[5,10,15]},_=function(){return["symbol","text","longText"]};let q=(()=>{class o{constructor(e,i,r){this.confirmationService=e,this.messageService=i,this.uomService=r,this.uomList=[]}ngOnInit(){this.getAllUoms()}getAllUoms(){this.uomService.getAllUoms().subscribe(e=>{this.uomList=e.data})}confirmDelete(e,i){this.confirmationService.confirm({target:e.target,message:"Are you sure that you want to Delete?",icon:"pi pi-exclamation-triangle",accept:()=>{this.deleteUom(i)},reject:()=>{console.log("Rejected")}})}deleteUom(e){this.uomService.deleteUom(e).subscribe(i=>{this.messageService.add({severity:"success",summary:"Success",detail:"UOM deleted successfully"}),this.uomList=i.data})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(a.YP),t.Y36(a.ez),t.Y36(b))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-uom-list"]],features:[t._Bn([a.YP,a.ez])],decls:12,vars:8,consts:[["routerLink","/masters/uom/create",1,"no-underline"],["pButton","","type","button","label","Create","icon","pi pi-plus",1,"p-button-sm"],["xs","12",1,"pt-0"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","styleClass","p-datatable-sm p-datatable-gridlines",3,"value","paginator","rows","showCurrentPageReport","rowsPerPageOptions","globalFilterFields"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"flex"],[1,"p-input-icon-left","ml-auto"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search keyword",3,"input"],["fgInputText",""],["pSortableColumn","symbol"],["field","symbol"],["pSortableColumn","text"],["field","text"],["pSortableColumn","longText"],["field","longText"],[1,"no-underline","text-color",3,"routerLink"],["pTooltip","Edit UOM","tooltipPosition","left",1,"pi","pi-file-edit","mr-3","cursor-pointer"],["pTooltip","Delete UOM","tooltipPosition","left",1,"pi","pi-trash","cursor-pointer",3,"click"]],template:function(e,i){1&e&&(t._UZ(0,"p-confirmPopup")(1,"p-toast"),t.TgZ(2,"c-row")(3,"c-col")(4,"a",0),t._UZ(5,"button",1),t.qZA()(),t.TgZ(6,"c-col",2)(7,"p-table",3,4),t.YNc(9,S,5,0,"ng-template",5),t.YNc(10,M,12,0,"ng-template",6),t.YNc(11,L,11,4,"ng-template",7),t.qZA()()()),2&e&&(t.xp6(7),t.Q6J("value",i.uomList)("paginator",!0)("rows",5)("showCurrentPageReport",!0)("rowsPerPageOptions",t.DdM(6,I))("globalFilterFields",t.DdM(7,_)))},dependencies:[f.Hq,x.P,g.o,d.iok,d.Yp0,c.iA,a.jx,c.lQ,c.fz,h.FN,Z.u,u.yS],encapsulation:2}),o})();function Y(o,s){1&o&&(t.TgZ(0,"small",13),t._uU(1,"Symbol is required."),t.qZA())}function N(o,s){1&o&&(t.TgZ(0,"small",13),t._uU(1,"Text is required."),t.qZA())}function B(o,s){1&o&&(t.TgZ(0,"small",13),t._uU(1,"Long text is required."),t.qZA())}let v=(()=>{class o{constructor(e,i,r,m){this.formBuilder=e,this.route=i,this.messageService=r,this.uomService=m,this.form=this.formBuilder.group({id:[""],symbol:["",l.kI.required],text:["",l.kI.required],longText:["",l.kI.required]}),this.isAddMode=!0,this.submitted=!1}ngOnInit(){let e=this.route.snapshot.params.id;this.isAddMode=!e,this.isAddMode||this.getUomById(e)}get f(){return this.form.controls}onSubmit(){this.submitted=!0,!this.form.invalid&&(this.isAddMode?this.createUom():this.updateUom())}createUom(){this.uomService.createUom(this.form.value).subscribe(e=>{this.messageService.add({severity:"success",summary:"Success",detail:"UOM created successfully"}),this.submitted=!1,this.form.reset()})}getUomById(e){this.uomService.getUomById(e).subscribe(i=>{console.log(i.data),this.form.patchValue(i.data)})}updateUom(){this.submitted=!0,this.uomService.updateUom(this.form.value).subscribe(e=>{this.messageService.add({severity:"success",summary:"Success",detail:"Uom updated successfully"}),this.submitted=!1})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(l.qu),t.Y36(u.gz),t.Y36(a.ez),t.Y36(b))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-create-edit-uom"]],features:[t._Bn([a.ez])],decls:24,vars:5,consts:[["autocomplete","off",3,"formGroup","ngSubmit"],[1,"field","grid"],["for","symbol",1,"col-12","mb-2","md:col-1","md:mb-0"],[1,"col"],["type","text","id","symbol","pInputText","","formControlName","symbol",1,"p-1"],["class","p-error block",4,"ngIf"],["for","text",1,"col-12","mb-2","md:col-1","md:mb-0"],["type","text","id","text","pInputText","","formControlName","text",1,"p-1"],["for","longText",1,"col-12","mb-2","md:col-1","md:mb-0"],["type","text","id","longText","pInputText","","formControlName","longText",1,"p-1"],["pButton","","icon","pi pi-check",1,"mr-1","p-button-sm"],["routerLink","/masters/uom/list",1,"no-underline"],["pButton","","label","Close","icon","pi pi-times",1,"p-button-sm","p-button-danger"],[1,"p-error","block"]],template:function(e,i){1&e&&(t._UZ(0,"p-toast"),t.TgZ(1,"form",0),t.NdJ("ngSubmit",function(){return i.onSubmit()}),t.TgZ(2,"div",1)(3,"label",2),t._uU(4,"Symbol"),t.qZA(),t.TgZ(5,"div",3),t._UZ(6,"input",4),t.YNc(7,Y,2,0,"small",5),t.qZA()(),t.TgZ(8,"div",1)(9,"label",6),t._uU(10,"Text"),t.qZA(),t.TgZ(11,"div",3),t._UZ(12,"input",7),t.YNc(13,N,2,0,"small",5),t.qZA()(),t.TgZ(14,"div",1)(15,"label",8),t._uU(16,"Long Text"),t.qZA(),t.TgZ(17,"div",3),t._UZ(18,"input",9),t.YNc(19,B,2,0,"small",5),t.qZA()(),t.TgZ(20,"button",10),t._uU(21),t.qZA(),t.TgZ(22,"a",11),t._UZ(23,"button",12),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("formGroup",i.form),t.xp6(6),t.Q6J("ngIf",i.submitted&&i.f.symbol.errors),t.xp6(6),t.Q6J("ngIf",i.submitted&&i.f.text.errors),t.xp6(6),t.Q6J("ngIf",i.submitted&&i.f.longText.errors),t.xp6(2),t.Oqu(i.isAddMode?"Save":"Update"))},dependencies:[T.O5,f.Hq,g.o,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,h.FN,u.yS],encapsulation:2}),o})();const F=[{path:"",data:{title:"UoM"},children:[{path:"",pathMatch:"full",redirectTo:"list"},{path:"list",component:q,data:{title:"List"}},{path:"create",component:v,data:{title:"Create"}},{path:"edit/:id",component:v,data:{title:"Edit"}}]}];let J=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[u.Bz.forChild(F),u.Bz]}),o})(),O=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[T.ez,f.hJ,x.n,y.L$,g.j,d.zE6,l.UX,c.U$,h.EV,Z.z,J]}),o})()}}]);