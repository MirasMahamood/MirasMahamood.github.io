<p-confirmPopup></p-confirmPopup>
<p-toast></p-toast>
<c-row>
    <c-col>
        <a routerLink="/masters/users/create" class="no-underline">
            <button pButton type="button" label="Create" icon="pi pi-plus" class="p-button-sm"></button>
        </a>
    </c-col>
    <c-col xs="12" class="pt-0">
        <p-table #dt [value]="users" [paginator]="true" [rows]="5" [showCurrentPageReport]="true"
            currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
            [rowsPerPageOptions]="[5,10,15]"
            [globalFilterFields]="['id','proofId','firstName','lastName','designation','phone','email','organization']"
            styleClass="p-datatable-sm p-datatable-gridlines">
            <ng-template pTemplate="caption">
                <div class="flex">
                    <span class="p-input-icon-left ml-auto">
                        <i class="pi pi-search"></i>
                        <input pInputText #fgInputText type="text"
                            (input)="dt.filterGlobal(fgInputText.value, 'contains')" placeholder="Search keyword" />
                    </span>
                </div>
            </ng-template>
            <ng-template pTemplate="header">
                <tr>
                    <th pSortableColumn="id">ID <p-sortIcon field="id"></p-sortIcon></th>
                    <th pSortableColumn="proofId">Proof ID <p-sortIcon field="proofId"></p-sortIcon></th>
                    <th pSortableColumn="firstName">Name <p-sortIcon field="firstName"></p-sortIcon></th>
                    <th pSortableColumn="designation">Designation <p-sortIcon field="designation"></p-sortIcon></th>
                    <th>Phone</th>
                    <th pSortableColumn="email">Email <p-sortIcon field="email"></p-sortIcon></th>
                    <th pSortableColumn="organization">Organization <p-sortIcon field="organization"></p-sortIcon></th>
                    <th>Actions</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-user>
                <tr>
                    <td>{{user.id}}</td>
                    <td>{{user.proofId}}</td>
                    <td>{{user.firstName}} {{user.lastName}}</td>
                    <td>{{user.designation}}</td>
                    <td>{{user.phone}}</td>
                    <td>{{user.email}}</td>
                    <td>{{user.organization}}</td>
                    <td>
                        <a routerLink="/masters/users/edit/{{user.id}}" class="no-underline text-color">
                            <i class="pi pi-user-edit mr-3 cursor-pointer" pTooltip="Edit User" tooltipPosition="left"></i>
                        </a>
                        <i class="pi pi-trash cursor-pointer" pTooltip="Delete User" tooltipPosition="left" (click)="confirmDelete($event, user.id)"></i>
                    </td>
                </tr>
            </ng-template>
        </p-table>
    </c-col>
</c-row>